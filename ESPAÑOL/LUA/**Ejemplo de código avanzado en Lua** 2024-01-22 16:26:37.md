```lua
-- Este es un ejemplo de un código complejo en Lua.

-- Empezamos por definir una función llamada "sumar" que toma dos números como parámetros y devuelve su suma.
function sumar(a, b)
    return a + b
end

-- A continuación, definimos una función llamada "multiplicar" que toma dos números como parámetros y devuelve su producto.
function multiplicar(a, b)
    return a * b
end

-- Ahora, definimos una función llamada "calcular_area_triangulo" que toma dos números como parámetros: la base y la altura del triángulo.
-- La función devuelve el área del triángulo calculando la mitad del producto de la base y la altura.
function calcular_area_triangulo(base, altura)
    return (base * altura) / 2
end

-- Por último, definimos una función llamada "imprimir_mensaje" que toma un mensaje como parámetro y lo imprime en la consola.
function imprimir_mensaje(mensaje)
    print(mensaje)
end

-- Ahora, vamos a utilizar estas funciones para calcular el área de un triángulo y luego imprimir el resultado en la consola.
base = 10
altura = 5
area_triangulo = calcular_area_triangulo(base, altura)
mensaje = "El área del triángulo es " .. area_triangulo
imprimir_mensaje(mensaje)

-- Este es un ejemplo de cómo utilizar las funciones definidas anteriormente para realizar cálculos y luego imprimir los resultados en la consola.
```

En este código, hemos definido cuatro funciones diferentes: "sumar", "multiplicar", "calcular_area_triangulo" e "imprimir_mensaje". A continuación, hemos utilizado estas funciones para calcular el área de un triángulo y luego imprimir el resultado en la consola.

Este código es complejo porque utiliza varias funciones diferentes para realizar cálculos y luego imprimir los resultados. Sin embargo, el código está bien organizado y es fácil de seguir.